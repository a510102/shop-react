(this["webpackJsonpshop-react"]=this["webpackJsonpshop-react"]||[]).push([[3],{51:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(11),r=a.n(n),c=a(18),s=a(12),u=a(0),o=a.n(u),i=a(1),p=a(10);function l(e){var t=e.data,a=Object(i.g)(),n=Object(u.useContext)(p.a).dispatch,s=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,c,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={data:{product_id:t,qty:1}},c="https://vue-course-api.hexschool.io/api/jay/cart",e.next=4,fetch(c,{method:"POST",body:JSON.stringify(a),headers:{"content-type":"application/json"}});case 4:return s=e.sent,e.next=7,s.json();case 7:if(!e.sent.success){e.next=17;break}return c="https://vue-course-api.hexschool.io/api/jay/cart",e.next=12,fetch(c);case 12:return s=e.sent,e.next=15,s.json();case 15:(u=e.sent).success&&n({type:"UPDATE_CART",cart:u.data});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("li",{id:t.id,className:"product"},o.a.createElement("h3",{className:"product-title"},t.category," : ",t.title),o.a.createElement("img",{className:"product-img",src:t.image,alt:"product"}),o.a.createElement("p",{className:"product-price"},"\u539f\u50f9: ",t.origin_price," \u5143 ",t.price&&"\u7279\u50f9: ".concat(t.price," \u5143 ")),o.a.createElement("button",{onClick:function(){return s(t.id)}},"ADD"),o.a.createElement("button",{onClick:function(){return e=t.id,void a.push("/shop/".concat(e));var e}},"\u8a73\u7d30\u5167\u5bb9"))}var d=a(19);a(51);function f(){var e=Object(u.useState)(null),t=Object(s.a)(e,2),a=t[0],n=t[1],i=Object(u.useState)(!0),p=Object(s.a)(i,2),f=p[0],h=p[1];Object(u.useEffect)((function(){m()}),[]);var m=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://vue-course-api.hexschool.io/api/jay/products",e.next=3,fetch("https://vue-course-api.hexschool.io/api/jay/products");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,n(a.products),h(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(f)return o.a.createElement(d.a,null);if(!a)return o.a.createElement("div",null," error 404");var v=a.filter((function(e){return 1===e.is_enabled}));return o.a.createElement("ul",{className:"productlist"},v.length>0?v.map((function(e){return o.a.createElement(l,{data:e,key:e.id})})):o.a.createElement("div",null,"\u73fe\u5728\u9084\u6c92\u6709\u5546\u54c1\u55b2~"))}}}]);
//# sourceMappingURL=3.76da5be3.chunk.js.map