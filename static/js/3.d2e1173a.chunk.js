(this["webpackJsonpshop-react"]=this["webpackJsonpshop-react"]||[]).push([[3],{50:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(11),c=n(0),r=n.n(c);n(51);function u(e){var t=e.num,n=e.setDePage,u=e.dePage,s=Object(c.useState)([]),i=Object(a.a)(s,2),o=i[0],l=i[1];return Object(c.useEffect)((function(){!function(e){var t=[];if(e>2){for(var n=1;n<e+1;n++)t.push(n);l(t)}}(t)}),[t]),r.a.createElement("ul",{className:"pages"},1!==u&&r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){return n(u-1)}},"Pre")," "),o.length>1&&o.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("button",{className:e===u?"active":"",onClick:function(){return n(e)}},e))})),u!==t&&r.a.createElement("li",null," ",r.a.createElement("button",{onClick:function(){return n(u+1)}},"Next")))}},51:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var a=n(12),c=n.n(a),r=n(18),u=n(11),s=n(0),i=n.n(s),o=n(1),l=n(19),p=n(10);n(55);function f(e){var t=e.data,n=Object(o.g)(),a=Object(l.b)(),u=Object(s.useContext)(p.a).dispatch,f=function(){var e=Object(r.a)(c.a.mark((function e(t){var n,r,s,i,o,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={data:{product_id:t,qty:1}},r="https://vue-course-api.hexschool.io/api/jay/cart",e.next=4,fetch(r,{method:"POST",body:JSON.stringify(n),headers:{"content-type":"application/json"}});case 4:return s=e.sent,e.next=7,s.json();case 7:if(i=e.sent,o=i.message,!i.success){e.next=19;break}return a.show(o),r="https://vue-course-api.hexschool.io/api/jay/cart",e.next=14,fetch(r);case 14:return s=e.sent,e.next=17,s.json();case 17:(l=e.sent).success&&u({type:"UPDATE_CART",cart:l.data});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("li",{id:t.id,className:"product"},i.a.createElement("div",{className:"product-content"},i.a.createElement("h3",{className:"product-title"},i.a.createElement("span",null,t.category," :"),i.a.createElement("span",null,t.title)),i.a.createElement("div",{className:"product-img"},i.a.createElement("img",{src:t.imageUrl,alt:"product"})),i.a.createElement("p",{className:"product-price"},i.a.createElement("span",null,"\u539f\u50f9: ",t.origin_price," \u5143"),i.a.createElement("span",null,t.price&&"\u7279\u50f9: ".concat(t.price," \u5143 ")))),i.a.createElement("div",{className:"product-btn"},i.a.createElement("button",{onClick:function(){return f(t.id)}},"ADD"),i.a.createElement("button",{onClick:function(){return e=t.id,void n.push("/shop/".concat(e));var e}},"\u8a73\u7d30\u5167\u5bb9")))}var m=n(20),d=n(50);n(56);function h(){var e=Object(s.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1],o=Object(s.useState)(!0),l=Object(u.a)(o,2),p=l[0],h=l[1],b=Object(s.useState)(1),E=Object(u.a)(b,2),v=E[0],j=E[1],O=Object(s.useState)(null),g=Object(u.a)(O,2),x=g[0],y=g[1];Object(s.useEffect)((function(){k(v)}),[v]);var k=function(){var e=Object(r.a)(c.a.mark((function e(t){var n,r,u,s,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://vue-course-api.hexschool.io/api/jay/products?page=".concat(t),e.next=3,fetch(n);case 3:return r=e.sent,e.next=6,r.json();case 6:u=e.sent,s=u.success,i=u.products,o=u.pagination,s&&(a(i),h(!1),y(o.total_pages));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(p)return i.a.createElement(m.a,null);if(!n)return i.a.createElement("div",null," error 404");var N=n.filter((function(e){return 1===e.is_enabled}));return i.a.createElement("ul",{className:"productlist"},N.length>0?N.map((function(e){return i.a.createElement(f,{data:e,key:e.id})})):i.a.createElement("div",null,"\u73fe\u5728\u9084\u6c92\u6709\u5546\u54c1\u55b2~"),i.a.createElement(d.a,{dePage:v,setDePage:j,num:x}))}}}]);
//# sourceMappingURL=3.d2e1173a.chunk.js.map