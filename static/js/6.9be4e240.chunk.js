(this["webpackJsonpshop-react"]=this["webpackJsonpshop-react"]||[]).push([[6],{49:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(10),r=a(0),c=a.n(r);function l(e){var t=e.num,a=e.setDePage,l=e.dePage,u=Object(r.useState)([]),s=Object(n.a)(u,2),o=s[0],i=s[1];Object(r.useEffect)((function(){!function(e){var t=[];if(e>2){for(var a=1;a<e+1;a++)t.push(a);i(t)}}(t)}),[t]);return c.a.createElement("ul",{className:"max-w-sm inline-flex"},1!==l&&c.a.createElement("li",null,c.a.createElement("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-l",onClick:function(){return a(l-1)}},"Pre")," "),o.length>1&&o.map((function(e,t){return c.a.createElement("li",{key:t},c.a.createElement("button",{className:l===e?"bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-l":"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-l",onClick:function(){return a(e)}},e))})),l!==t&&c.a.createElement("li",null," ",c.a.createElement("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-r",onClick:function(){return a(l+1)}},"Next")))}},60:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var n=a(12),r=a.n(n),c=a(18),l=a(10),u=a(0),s=a.n(u),o=a(1),i=a(19),p=a(11);function f(e){var t=e.data,a=Object(o.g)(),n=Object(i.b)(),l=Object(u.useContext)(p.a).dispatch;function f(){return(f=Object(c.a)(r.a.mark((function e(t){var a,c,u,s,o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={data:{product_id:t,qty:1}},c="https://vue-course-api.hexschool.io/api/jay/cart",e.next=4,fetch(c,{method:"POST",body:JSON.stringify(a),headers:{"content-type":"application/json"}});case 4:return u=e.sent,e.next=7,u.json();case 7:if(s=e.sent,o=s.message,!s.success){e.next=19;break}return n.show(o),c="https://vue-course-api.hexschool.io/api/jay/cart",e.next=14,fetch(c);case 14:return u=e.sent,e.next=17,u.json();case 17:(i=e.sent).success&&l({type:"UPDATE_CART",cart:i.data});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.a.createElement("li",{id:t.id,className:"max-w-full mx-auto mb-1 px-1 rounded overflow-hidden shadow-lg w-full sm:w-1/2 lg:w-1/3 4 rounded-lg shadow-md relative"},s.a.createElement("img",{src:t.imageUrl,alt:"product",className:"w-full rounded"}),s.a.createElement("div",{className:"px-3 py-2 absolute inset-x-0 bottom-0 bg-gray-100 w-full md:w-4/5  m-auto rounded mb-1"},s.a.createElement("h3",{className:"flex justify-between text-teal-700 font-bold text-xl mb-2"},s.a.createElement("span",null,t.category," :"),s.a.createElement("span",null,t.title)),s.a.createElement("p",{className:"flex justify-between text-teal-700 text-base"},s.a.createElement("span",null,"\u539f\u50f9: ",t.origin_price,"\u5143"),s.a.createElement("span",null,t.price&&"\u7279\u50f9: ".concat(t.price,"\u5143 "))),s.a.createElement("div",{className:"flex items-center justify-between mt-2"},s.a.createElement("button",{onClick:function(){return function(e){return f.apply(this,arguments)}(t.id)},className:"bg-green-400 hover:bg-green-600 text-white font-bold py-1 px-2 rounded-full"},"ADD"),s.a.createElement("button",{onClick:function(){return e=t.id,void a.push("/shop/".concat(e));var e},className:"bg-blue-400 hover:bg-blue-600 text-white font-bold py-1 px-2 rounded-full"},"\u8a73\u7d30\u5167\u5bb9"))))}var d=a(20),m=a(49);function b(){var e=Object(u.useState)(null),t=Object(l.a)(e,2),a=t[0],n=t[1],o=Object(u.useState)(!0),i=Object(l.a)(o,2),p=i[0],b=i[1],g=Object(u.useState)(1),h=Object(l.a)(g,2),x=h[0],y=h[1],v=Object(u.useState)(null),E=Object(l.a)(v,2),j=E[0],w=E[1];function O(){return(O=Object(c.a)(r.a.mark((function e(t){var a,c,l,u,s,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://vue-course-api.hexschool.io/api/jay/products?page=".concat(t),e.next=3,fetch(a);case 3:return c=e.sent,e.next=6,c.json();case 6:l=e.sent,u=l.success,s=l.products,o=l.pagination,u&&(n(s),b(!1),w(o.total_pages));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(Object(u.useEffect)((function(){!function(e){O.apply(this,arguments)}(x)}),[x]),p)return s.a.createElement(d.a,null);if(!a)return s.a.createElement("div",null," error 404");var N=a.filter((function(e){return 1===e.is_enabled}));return s.a.createElement("ul",{className:"flex my-2 flex-wrap"},N.length>0?N.map((function(e){return s.a.createElement(f,{data:e,key:e.id})})):s.a.createElement("div",null,"\u73fe\u5728\u9084\u6c92\u6709\u5546\u54c1\u55b2~"),s.a.createElement(m.a,{dePage:x,setDePage:y,num:j}))}}}]);
//# sourceMappingURL=6.9be4e240.chunk.js.map