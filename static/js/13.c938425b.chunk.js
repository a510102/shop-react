(this["webpackJsonpshop-react"]=this["webpackJsonpshop-react"]||[]).push([[13],{64:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var a=n(12),c=n.n(a),r=n(13),s=n(18),u=n(11),l=n(0),o=n.n(l),i=n(1),p=n(19),h=n(10),f=n(20);function m(){var e=Object(i.i)().id,t=Object(i.g)(),n=Object(p.b)(),a=Object(l.useContext)(h.a).dispatch,m=Object(l.useState)(null),b=Object(u.a)(m,2),E=b[0],j=b[1],d=Object(l.useState)(1),v=Object(u.a)(d,2),x=v[0],y=v[1];function O(){return(O=Object(s.a)(c.a.mark((function e(t,s){var u,l,o,i,p,h,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u={product_id:t,qty:s},l="https://vue-course-api.hexschool.io/api/jay/cart",e.next=4,fetch(l,{method:"POST",body:JSON.stringify({data:Object(r.a)({},u)}),headers:{"content-type":"application/json"}});case 4:return o=e.sent,e.next=7,o.json();case 7:if(i=e.sent,p=i.success,h=i.message,!p){e.next=21;break}return n.success(h),l="https://vue-course-api.hexschool.io/api/jay/cart",e.next=14,fetch(l);case 14:return o=e.sent,e.next=17,o.json();case 17:(f=e.sent).success&&a({type:"UPDATE_CART",cart:f.data}),e.next=22;break;case 21:n.error(h);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(s.a)(c.a.mark((function t(){var n,a,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://vue-course-api.hexschool.io/api/jay/product/".concat(e),t.next=3,fetch(n);case 3:return a=t.sent,t.next=6,a.json();case 6:(r=t.sent).success&&j(r.product);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}if(Object(l.useEffect)((function(){!function(){k.apply(this,arguments)}()}),[]),E){var g=E.title,w=E.category,C=E.content,S=E.origin_price,J=E.price,T=E.description,_=E.unit;return o.a.createElement("ul",{className:"productself"},o.a.createElement("li",null,o.a.createElement("h2",null,"\u540d\u7a31:",g)),o.a.createElement("li",null,o.a.createElement("p",null,"\u7a2e\u985e: ",w)),o.a.createElement("li",null,o.a.createElement("p",null,"\u5167\u5bb9:",C)),o.a.createElement("li",null,o.a.createElement("p",null,"\u63cf\u8ff0:",T)),o.a.createElement("li",null,o.a.createElement("p",null,"\u539f\u50f9:",S," ",_)),J&&o.a.createElement("li",null,o.a.createElement("p",null,"\u7279\u50f9:",J," ",_)),o.a.createElement("select",{onChange:function(e){var t=e.target.value;y(t)},value:x},[1,2,3,4,5,6,7,8,9,10].map((function(e){return o.a.createElement("option",{key:e,value:e},e)}))),o.a.createElement("button",{onClick:function(){return function(e,t){return O.apply(this,arguments)}(e,x)}},"\u52a0\u5165\u8cfc\u7269\u8eca"),o.a.createElement("button",{onClick:function(){t.push("/shop")}},"\u8fd4\u56de"))}return o.a.createElement(f.a,null)}}}]);
//# sourceMappingURL=13.c938425b.chunk.js.map