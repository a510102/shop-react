(this["webpackJsonpshop-react"]=this["webpackJsonpshop-react"]||[]).push([[13],{55:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var n=a(13),c=a.n(n),r=a(10),s=a(18),l=a(11),o=a(0),u=a.n(o),i=a(1),m=a(19),p=a(12),d=a(20);function b(){var e=Object(i.i)().id,t=Object(i.g)(),a=Object(m.b)(),n=Object(o.useContext)(p.a).cartDispatch,b=Object(o.useState)(null),f=Object(l.a)(b,2),h=f[0],x=f[1],g=Object(o.useState)(1),v=Object(l.a)(g,2),y=v[0],w=v[1];function E(){return(E=Object(s.a)(c.a.mark((function e(t,s){var l,o,u,i,m,p,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={product_id:t,qty:s},o="https://vue-course-api.hexschool.io/api/jay/cart",e.next=4,fetch(o,{method:"POST",body:JSON.stringify({data:Object(r.a)({},l)}),headers:{"content-type":"application/json"}});case 4:return u=e.sent,e.next=7,u.json();case 7:if(i=e.sent,m=i.success,p=i.message,!m){e.next=21;break}return a.success(p),o="https://vue-course-api.hexschool.io/api/jay/cart",e.next=14,fetch(o);case 14:return u=e.sent,e.next=17,u.json();case 17:(d=e.sent).success&&n({type:"UPDATE_CART",cart:d.data}),e.next=22;break;case 21:a.error(p);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(s.a)(c.a.mark((function t(){var a,n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="https://vue-course-api.hexschool.io/api/jay/product/".concat(e),t.next=3,fetch(a);case 3:return n=t.sent,t.next=6,n.json();case 6:(r=t.sent).success&&x(r.product);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}if(Object(o.useEffect)((function(){!function(){j.apply(this,arguments)}()}),[]),h){var N=h.title,O=h.category,k=h.content,C=h.origin_price,S=h.price,q=h.description,J=h.unit,T=h.imageUrl;return u.a.createElement("div",{className:"container w-ful sm:flex"},u.a.createElement("img",{className:"lg:h-auto w-full sm:w-1/2 md:w-1/3 flex-none bg-cover rounded-t lg:rounded-t-none lg:rounded-l text-center overflow-hidden",src:T,alt:"food"}),u.a.createElement("div",{className:"w-full sm:w-1/2 md:w-2/3 md:flex sm:ml-2"},u.a.createElement("div",{className:"w-full lg:w-1/2 mb-6 md:mb-0"},u.a.createElement("h2",{className:"text-3xl font-medium mb-3"},O,": ",N),u.a.createElement("p",{className:"text-xl font-medium mb-1"},"\u5167\u5bb9:"),u.a.createElement("p",{className:" mb-3"},k),u.a.createElement("p",{className:" mb-1 text-xl font-medium"},"\u63cf\u8ff0:"),u.a.createElement("p",{className:"mb-3"},q),u.a.createElement("p",{className:" mb-3"},"\u539f\u50f9:",C,"\u5143 / ",J),S&&u.a.createElement("p",{className:" mb-3"},"\u7279\u50f9:",S," \u5143 / ",J)),u.a.createElement("div",{className:"w-full lg:w-1/2 mb-6 md:mb-0"},u.a.createElement("div",{className:"relative"},u.a.createElement("label",{className:"block  tracking-wide text-gray-700 text-sm font-bold mb-2",htmlFor:"qty"},"\u9078\u64c7\u6578\u91cf:"),u.a.createElement("select",{id:"qty",className:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",onChange:function(e){var t=e.target.value;w(t)},value:y},[1,2,3,4,5,6,7,8,9,10].map((function(e){return u.a.createElement("option",{key:e,value:e},e)})))),u.a.createElement("div",{className:"mt-2 flex justify-between "},u.a.createElement("button",{className:"bg-teal-500 hover:bg-teal-700 text-white font-bold py-1 px-2 rounded",onClick:function(){return function(e,t){return E.apply(this,arguments)}(e,y)}},"\u52a0\u5165\u8cfc\u7269\u8eca"),u.a.createElement("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded",onClick:function(){t.push("/shop-react/shop")}},"\u8fd4\u56de")))))}return u.a.createElement(d.a,null)}}}]);
//# sourceMappingURL=13.dc455334.chunk.js.map