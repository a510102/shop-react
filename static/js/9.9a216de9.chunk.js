(this["webpackJsonpshop-react"]=this["webpackJsonpshop-react"]||[]).push([[9],{55:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(22),r=a(0),c=a.n(r);function l(e){var t=e.num,a=e.setDePage,l=e.dePage,o=Object(r.useState)([]),u=Object(n.a)(o,2),s=u[0],i=u[1];Object(r.useEffect)((function(){!function(e){var t=[];if(e>2){for(var a=1;a<e+1;a++)t.push(a);i(t)}}(t)}),[t]);return c.a.createElement("ul",{className:"max-w-sm inline-flex mt-2"},s.length>1&&1!==l&&c.a.createElement("li",null,c.a.createElement("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-l",onClick:function(){return a(l-1)}},"Pre")," "),s.length>1&&s.map((function(e,t){return c.a.createElement("li",{key:t},c.a.createElement("button",{className:l===e?"bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-l":"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-l",onClick:function(){return a(e)}},e))})),s.length>1&&l!==t&&c.a.createElement("li",null," ",c.a.createElement("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-r",onClick:function(){return a(l+1)}},"Next")))}},69:function(e,t,a){"use strict";a.r(t);var n=a(22),r=a(0),c=a.n(r),l=a(11),o=a(17),u=a.n(o),s=a(23),i=a(3),m=a(24),d=c.a.memo((function(e){var t=e.data,a=Object(i.g)(),n=Object(m.b)(),r=Object(l.b)();function o(){return(o=Object(s.a)(u.a.mark((function e(t){var a,c,l,o,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={data:{product_id:t,qty:1}},c="https://vue-course-api.hexschool.io/api/jay/cart",e.next=4,fetch(c,{method:"POST",body:JSON.stringify(a),headers:{"content-type":"application/json"}});case 4:return l=e.sent,e.next=7,l.json();case 7:if(o=e.sent,s=o.message,!o.success){e.next=19;break}return n.show(s),c="https://vue-course-api.hexschool.io/api/jay/cart",e.next=14,fetch(c);case 14:return l=e.sent,e.next=17,l.json();case 17:(i=e.sent).success&&r({type:"UPDATE_CART",cart:i.data});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=t.id,p=t.imageUrl,f=t.category,b=t.title,g=t.price,h=t.origin_price;return c.a.createElement("li",{id:d,className:"mb-1 rounded overflow-hidden shadow-lg  rounded-lg shadow-md relative h-auto"},c.a.createElement("div",{className:"relative w-full h-48 mx-auto bg-gray-200"},c.a.createElement("img",{src:p,alt:"product",className:"absolute max-h-full max-w-full top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})),c.a.createElement("div",{className:"px-5 py-2  inset-x-0 bottom-0 bg-gray-100 w-full  rounded"},c.a.createElement("h3",{className:" flex justify-between text-teal-700 font-bold text-sm mb-2"},c.a.createElement("span",null,f," :"),c.a.createElement("span",null,b)),c.a.createElement("p",{className:"flex justify-between text-teal-700 text-base"},c.a.createElement("span",null,"\u539f\u50f9: ",h,"\u5143"),c.a.createElement("span",null,g&&"\u7279\u50f9: ".concat(g,"\u5143 "))),c.a.createElement("div",{className:"flex items-center justify-between mt-2"},c.a.createElement("button",{onClick:function(){return function(e){return o.apply(this,arguments)}(d)},className:"bg-green-400 hover:bg-green-600 text-white font-bold py-1 px-2 rounded-full"},"ADD"),c.a.createElement("button",{onClick:function(){return e=d,void a.push("/shop-react/shop/".concat(e));var e},className:"bg-blue-400 hover:bg-blue-600 text-white font-bold py-1 px-2 rounded-full"},"\u8a73\u7d30\u5167\u5bb9"))))})),p=a(25),f=a(55);t.default=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.productsState.products})),a=Object(r.useState)(!0),o=Object(n.a)(a,2),u=o[0],s=o[1],i=Object(r.useState)(1),m=Object(n.a)(i,2),b=m[0],g=m[1],h=Object(r.useState)(null),x=Object(n.a)(h,2),y=x[0],v=x[1],E=Object(r.useState)("all"),j=Object(n.a)(E,2),w=j[0],O=j[1];Object(r.useEffect)((function(){var t;e((t=b,function(e){var a="https://vue-course-api.hexschool.io/api/jay/products?page=".concat(t);fetch(a).then((function(e){return e.json()})).then((function(t){var a=t.products,n=t.pagination;e({type:"UPDATE_PRODUCT",product:a}),v(n.total_pages),s(!1)})).catch((function(e){return console.log(e)}))}))}),[b]);var N,k,C="m-2 mx-auto bg-white w-16 text-teal-600 text-white font-bold py-1 px-2 rounded-full",P="m-2 mx-auto bg-teal-500 w-16 hover:bg-teal-600 text-white font-bold py-1 px-2 rounded-full",S=t.filter((function(e){return 1===e.is_enabled})),D=t.map((function(e){return e.category})).filter((function(e,t,a){return a.indexOf(e)===t}));return u?c.a.createElement(p.a,null):t?c.a.createElement("div",{className:"container mx-auto h-auto min-h-screen"},c.a.createElement("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-2 lg:gap-4"},c.a.createElement("button",{onClick:function(){return O("all")},className:"all"===w?C:P},"\u5168\u90e8"),D&&D.map((function(e,t){return c.a.createElement("button",{onClick:function(){return O(e)},key:t,className:w===e?C:P},e)}))),c.a.createElement("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 lg:gap-4 p-2 md:p-0"},S.length>0?(N=S,k=w,"all"===k?N:N.filter((function(e){return e.category===k}))).map((function(e){return c.a.createElement(d,{data:e,key:e.id})})):c.a.createElement("div",null,"\u73fe\u5728\u9084\u6c92\u6709\u5546\u54c1\u55b2~"),c.a.createElement(f.a,{dePage:b,setDePage:g,num:y}))):c.a.createElement("div",null," error 404")}}}]);
//# sourceMappingURL=9.9a216de9.chunk.js.map